<div class="row">
	<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
		<h1 class="page-title txt-color-blueDark">
			<i class="fa fa-picture-o fa-fw "></i> 图册录入
		</h1>
	</div>
</div>

<!-- widget grid -->
<section id="widget-grid" class="">

	<!-- row -->
	<div class="row">

		<!-- NEW WIDGET START -->
		<article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

			<!-- Widget ID (each widget will need unique ID)-->
			<div class="jarviswidget" id="wid-id-0"
				data-widget-deletebutton="false" data-widget-editbutton="false">
				<!-- widget options:
					usage: <div class="jarviswidget" id="wid-id-0" data-widget-editbutton="false">
					
					data-widget-colorbutton="false"	
					data-widget-editbutton="false"
					data-widget-togglebutton="false"
					data-widget-deletebutton="false"
					data-widget-fullscreenbutton="false"
					data-widget-custombutton="false"
					data-widget-collapsed="true" 
					data-widget-sortable="false"
					
				-->
				<header>
					<span class="widget-icon"> <i class="fa fa-edit"></i>
					</span>
					<h2>录入</h2>

				</header>

				<!-- widget div-->
				<div>

					<!-- widget content -->
					<div class="widget-body">
						<form id="docadd-form" action="" class="smart-form">
							<fieldset>
									<section class="col col-4  col-sm-6">
										<label class="input"> 
											<i class="icon-prepend fa fa-folder"></i>
											<input type="text"
												name="doc_name" placeholder="档案名称">
										</label>
									</section>
									<section class="col col-4  col-sm-6">
										<label class="input"> 
											<i class="icon-prepend fa fa-folder"></i>
											<input type="text"
												name="project_name" placeholder="项目名称">
										</label>
									</section>
									<section class="col col-4  col-sm-6">
										<label class="select"> <select name="doc_type">
												<option value="">档案类型</option>
											  	<option value="控规">控规</option>
											  	<option value="详规">详规</option> 
										    </select> <i></i>
										</label>
									</section>
									
									<section class="col col-4 col-sm-6">
										<label class="select"> <select name=doc_mgr>
												<option value="">档案管理员</option>
											  	<option value="管理员1">管理员1</option>
											  	<option value="管理员2">管理员2</option> 
										    </select> <i></i>
										</label>
									</section>
									<section class="col col-4 col-sm-6">
										<label class="select"> <select name="doc_location">
												<option value="">档案位置</option>
											  	<option value="西1柜">西1柜</option>
											  	<option value="北1柜">北1柜</option> 
										    </select> <i></i>
										</label>
									</section>
									
									<section class="col col-4 col-sm-6">
										<label for="file" class="input input-file">
										<div class="button"><input type="file" name="file" onchange="this.parentNode.nextSibling.value = this.value">上传</div><input type="text" placeholder="电子档案" readonly="">
									</label>
									</section>
									<section class="col col-4 col-sm-6">
										<label class="input"> 
											<i class="icon-prepend fa fa-database"></i>
											<input type="text"
												name="total_num" placeholder="库存数量">
										</label>
									</section>
									
								</fieldset>
								<fieldset>
								<section class="col col-4 col-sm-6">
										<label for="file" class="input input-file">
										<div class="button"><input type="file" name="file" onchange="this.parentNode.nextSibling.value = this.value">上传</div><input type="text" placeholder="图册封面" readonly="">
									</label>
									</section>
								<section class="col col-4 col-sm-6">
										<label class="input"> 
											<img class="media-object" alt="64x64" src="img/demo/sample.jpg">
										</label>
									</section>
									</fieldset>
									<!--  <section  class="col col-12 col-sm-12"> 
									<a id="submit" class="btn btn-primary btn-sm" >
											<i class="fa fa-save"></i>
											提交
											</a>
									</section>-->
									<footer>
								<button type="submit" class="btn btn-primary">
								<i class="fa fa-save"></i>
									提交
								</button>
							</footer>
						</form>
					</div>
					<!-- end widget content -->

				</div>
				<!-- end widget div -->

			</div>
			<!-- end widget -->
			
			<!-- Widget ID (each widget will need unique ID)-->
			<div class="jarviswidget" id="wid-id-1" data-widget-editbutton="false" data-widget-deletebutton="false" >
				<!-- widget options:
				usage: <div class="jarviswidget" id="wid-id-0" data-widget-editbutton="false">

				data-widget-colorbutton="false"
				data-widget-editbutton="false"
				data-widget-togglebutton="false"
				data-widget-deletebutton="false"
				data-widget-fullscreenbutton="false"
				data-widget-custombutton="false"
				data-widget-collapsed="true"
				data-widget-sortable="false"

				-->
		 
			</div>
			<!-- end widget -->

		</article>
		<!-- WIDGET END -->

	</div>
	<!-- end row -->
</section>
<!-- end widget grid -->

<script type="text/javascript">

    pageSetUp();

    var pagefunction = function() {
        $("#docadd-form").validate({
			rules : {
				doc_name : {
					required : true
				},
				doc_type : {
				    required : true
				},
				total_num : {
				    required : true,
				    digits : true
				},
				doc_location : {
				    required : true,
				},
				doc_mgr : {
				    required : true,
				},
				project_name : {
					required : true
				}
			},

			submitHandler : function(form) {
			    $.ajax({
			        url:'/doc/save',
			        type:'POST',
			        data : $('#docadd-form').serialize(),
					success : function(data) {
					    $.bigBox({
							title : "提示信息",
							content : "保存档案信息成功！档案Id为"+data.doc_id,
							color : "#739E73",
							timeout : 6000,
							icon : "fa fa-check"
						});
					    
					},
					error: function(data) {
					    $.bigBox({
	             			title : "错误信息",
	             			content : "保存档案信息成功！",
	             			color : "#C46A69",
	             			icon : "fa fa-warning shake animated",
	             			timeout : 6000
	             		});
					}
			    });
			},

			errorPlacement : function(error, element) {
				error.insertAfter(element.parent());
			}
		});
        
    };
    
    
    
    loadScript("js/plugin/sparkline/jquery.sparkline.min.js", function(){
    	loadScript("js/plugin/datatables/jquery.dataTables.min.js", function(){
			loadScript("js/plugin/datatables/dataTables.colVis.min.js", function(){
				loadScript("js/plugin/datatables/dataTables.tableTools.min.js", function(){
					loadScript("js/plugin/datatables/dataTables.bootstrap.min.js", pagefunction);
				});
			});
		});
    });
</script>
